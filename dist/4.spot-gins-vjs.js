(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{153:function(t,s,e){var n=e(175);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,e(10).default)("2b90ff04",n,!0,{})},167:function(t,s,e){var n={"./af":18,"./af.js":18,"./ar":19,"./ar-dz":20,"./ar-dz.js":20,"./ar-kw":21,"./ar-kw.js":21,"./ar-ly":22,"./ar-ly.js":22,"./ar-ma":23,"./ar-ma.js":23,"./ar-sa":24,"./ar-sa.js":24,"./ar-tn":25,"./ar-tn.js":25,"./ar.js":19,"./az":26,"./az.js":26,"./be":27,"./be.js":27,"./bg":28,"./bg.js":28,"./bm":29,"./bm.js":29,"./bn":30,"./bn-bd":31,"./bn-bd.js":31,"./bn.js":30,"./bo":32,"./bo.js":32,"./br":33,"./br.js":33,"./bs":34,"./bs.js":34,"./ca":35,"./ca.js":35,"./cs":36,"./cs.js":36,"./cv":37,"./cv.js":37,"./cy":38,"./cy.js":38,"./da":39,"./da.js":39,"./de":40,"./de-at":41,"./de-at.js":41,"./de-ch":42,"./de-ch.js":42,"./de.js":40,"./dv":43,"./dv.js":43,"./el":44,"./el.js":44,"./en-au":45,"./en-au.js":45,"./en-ca":46,"./en-ca.js":46,"./en-gb":47,"./en-gb.js":47,"./en-ie":48,"./en-ie.js":48,"./en-il":49,"./en-il.js":49,"./en-in":50,"./en-in.js":50,"./en-nz":51,"./en-nz.js":51,"./en-sg":52,"./en-sg.js":52,"./eo":53,"./eo.js":53,"./es":54,"./es-do":55,"./es-do.js":55,"./es-mx":56,"./es-mx.js":56,"./es-us":57,"./es-us.js":57,"./es.js":54,"./et":58,"./et.js":58,"./eu":59,"./eu.js":59,"./fa":60,"./fa.js":60,"./fi":61,"./fi.js":61,"./fil":62,"./fil.js":62,"./fo":63,"./fo.js":63,"./fr":64,"./fr-ca":65,"./fr-ca.js":65,"./fr-ch":66,"./fr-ch.js":66,"./fr.js":64,"./fy":67,"./fy.js":67,"./ga":68,"./ga.js":68,"./gd":69,"./gd.js":69,"./gl":70,"./gl.js":70,"./gom-deva":71,"./gom-deva.js":71,"./gom-latn":72,"./gom-latn.js":72,"./gu":73,"./gu.js":73,"./he":74,"./he.js":74,"./hi":75,"./hi.js":75,"./hr":76,"./hr.js":76,"./hu":77,"./hu.js":77,"./hy-am":78,"./hy-am.js":78,"./id":79,"./id.js":79,"./is":80,"./is.js":80,"./it":81,"./it-ch":82,"./it-ch.js":82,"./it.js":81,"./ja":83,"./ja.js":83,"./jv":84,"./jv.js":84,"./ka":85,"./ka.js":85,"./kk":86,"./kk.js":86,"./km":87,"./km.js":87,"./kn":88,"./kn.js":88,"./ko":89,"./ko.js":89,"./ku":90,"./ku.js":90,"./ky":91,"./ky.js":91,"./lb":92,"./lb.js":92,"./lo":93,"./lo.js":93,"./lt":94,"./lt.js":94,"./lv":95,"./lv.js":95,"./me":96,"./me.js":96,"./mi":97,"./mi.js":97,"./mk":98,"./mk.js":98,"./ml":99,"./ml.js":99,"./mn":100,"./mn.js":100,"./mr":101,"./mr.js":101,"./ms":102,"./ms-my":103,"./ms-my.js":103,"./ms.js":102,"./mt":104,"./mt.js":104,"./my":105,"./my.js":105,"./nb":106,"./nb.js":106,"./ne":107,"./ne.js":107,"./nl":108,"./nl-be":109,"./nl-be.js":109,"./nl.js":108,"./nn":110,"./nn.js":110,"./oc-lnc":111,"./oc-lnc.js":111,"./pa-in":112,"./pa-in.js":112,"./pl":113,"./pl.js":113,"./pt":114,"./pt-br":115,"./pt-br.js":115,"./pt.js":114,"./ro":116,"./ro.js":116,"./ru":117,"./ru.js":117,"./sd":118,"./sd.js":118,"./se":119,"./se.js":119,"./si":120,"./si.js":120,"./sk":121,"./sk.js":121,"./sl":122,"./sl.js":122,"./sq":123,"./sq.js":123,"./sr":124,"./sr-cyrl":125,"./sr-cyrl.js":125,"./sr.js":124,"./ss":126,"./ss.js":126,"./sv":127,"./sv.js":127,"./sw":128,"./sw.js":128,"./ta":129,"./ta.js":129,"./te":130,"./te.js":130,"./tet":131,"./tet.js":131,"./tg":132,"./tg.js":132,"./th":133,"./th.js":133,"./tk":134,"./tk.js":134,"./tl-ph":135,"./tl-ph.js":135,"./tlh":136,"./tlh.js":136,"./tr":137,"./tr.js":137,"./tzl":138,"./tzl.js":138,"./tzm":139,"./tzm-latn":140,"./tzm-latn.js":140,"./tzm.js":139,"./ug-cn":141,"./ug-cn.js":141,"./uk":142,"./uk.js":142,"./ur":143,"./ur.js":143,"./uz":144,"./uz-latn":145,"./uz-latn.js":145,"./uz.js":144,"./vi":146,"./vi.js":146,"./x-pseudo":147,"./x-pseudo.js":147,"./yo":148,"./yo.js":148,"./zh-cn":149,"./zh-cn.js":149,"./zh-hk":150,"./zh-hk.js":150,"./zh-mo":151,"./zh-mo.js":151,"./zh-tw":152,"./zh-tw.js":152};function i(t){var s=a(t);return e(s)}function a(t){if(!e.o(n,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=167},174:function(t,s,e){"use strict";e(153)},175:function(t,s,e){(s=e(9)(!1)).push([t.i,"\n.my-spinner {\n  width:100%;\n  padding-top:30px;\n  text-align:center;\n}\n.my-spinner .fa {\n  vertical-align: middle;\n}\n",""]),t.exports=s},178:function(t,s,e){"use strict";e.r(s);var n=e(8),i=e(7),a=e.n(i),r=e(168),o=e.n(r),l=e(169),h=e.n(l),u=e(12),d=e.n(u),c=e(170),p=e.n(c),j=e(171),f=e.n(j),m=e(172),g=e.n(m),v=e(173),y=e.n(v);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"object"===x(n)&&(o()(n),h()(n),d()(n),p()(n),f()(n),g()(n),y()(n));var b={props:{id:{type:Number,default:null},url:{type:String,default:null},selected:{type:Boolean,default:!1}},watch:{url:function(){this.reset(),console.log(this.selected),this.selected&&this.load()},id:function(){this.reset(),console.log(this.selected),this.selected&&this.load()},selected:function(t){0===this.results.N.length&&t&&this.load()}},data:function(){return{height:150,next:null,currentIndex:0,results:{E:[],N:[],U:[]},dates:[],types:["E","N","U"],pointDate:{date:null,N:null,E:null,U:null},graphs:{N:null,E:null,U:null},colors:{N:"blue",E:"#f00",U:"#006400"},plotlines:[],min:{E:null,N:null,U:null},max:{E:null,N:null,U:null},title:{E:"East (mm)",N:"North (mm)",U:"Up (mm)"}}},methods:{reset:function(){var t=this;this.dates=[],this.types.forEach((function(s){t.graphs[s]&&(t.graphs[s].destroy(),t.graphs[s]=null,t.addSpinner(s)),t.results[s]=[],t.min[s]=null,t.max[s]=null}))},load:function(){var t=this;this.url&&(this.navigationLink=this.url+"Datastreams("+this.id+")",this.$http.get(this.navigationLink+"/Observations?$top=1000&$select=phenomenonTime,result,resultQuality&$format=dataArray",{headers:"accept: application/json"}).then((function(s){s.body.value&&s.body.value[0]&&s.body.value[0]["Datastream@iot.navigationLink"]===t.navigationLink&&(t.next=null,s.body.value[0].dataArray&&(t.extractData(s.body.value[0].dataArray),s.body["@iot.nextLink"]&&(t.next=s.body["@iot.nextLink"])))})))},searchNext:function(){var t=this;this.next&&this.$http.get(this.next,{headers:"accept: application/json"}).then((function(s){s.body.value&&s.body.value[0]&&s.body.value[0]["Datastream@iot.navigationLink"]===t.navigationLink&&(t.next=null,s.body.value[0].dataArray&&(s.body["@iot.nextLink"]&&(t.next=s.body["@iot.nextLink"]),t.addData(s.body.value[0].dataArray)))}))},extractData:function(t){var s=this;this.min={E:t[0][1][0],N:t[0][1][1],U:t[0][1][2]},this.max={E:t[0][1][0],N:t[0][1][1],U:t[0][1][2]},t.forEach((function(t,e){var n=a()(t[0],"YYYY-MM-DDThh:mm:ssZ").valueOf(),i={},r={};i.E=t[1][0],r.E=t[2][0],i.N=t[1][1],r.N=t[2][1],i.U=t[1][2],r.U=t[2][2],s.dates.push(n),e%7==0&&s.types.forEach((function(t){s.results[t].push([n,i[t],Math.round(100*(i[t]+r[t]))/100,Math.round(100*(i[t]-r[t]))/100,i[t]]),r.N<10&&(s.min[t]>i[t]?s.min[t]=i[t]:s.max[t]<i[t]&&(s.max[t]=i[t]))}))})),this.currentIndex=t.length-1,setTimeout((function(){s.buildGraph(0)}),0)},addData:function(t){var s=this,e=[],n={E:[],N:[],U:[]};t.forEach((function(t,i){var r=a()(t[0],"YYYY-MM-DDThh:mm:ssZ").valueOf(),o={},l={};o.E=t[1][0],l.E=t[2][0],o.N=t[1][1],l.N=t[2][1],o.U=t[1][2],l.U=t[2][2],e.push(r),(s.currentIndex+i)%7==0&&s.types.forEach((function(t){n[t].push([r,o[t],Math.round(100*(o[t]+l[t]))/100,Math.round(100*(o[t]-l[t]))/100,o[t]]),l.N<10&&(s.min[t]>o[t]?s.min[t]=o[t]:s.max[t]<o[t]&&(s.max[t]=o[t]))}))})),this.currentIndex=this.currentIndex+e.length,this.addPointsToGraphs(e,n),this.searchNext()},addPointsToGraphs:function(t,s){var e=this;this.dates=this.dates.concat(t),this.types.forEach((function(t){e.results[t]=e.results[t].concat(s[t])})),this.types.forEach((function(t){e.graphs[t]&&(s[t].forEach((function(s){e.graphs[t].series[0].addPoint(s,!1)})),e.graphs[t].redraw(),e.graphs[t].xAxis[0].setExtremes(e.dates[0],e.dates[e.dates.length-1],!0,!1),e.graphs[t].yAxis[0].setExtremes(e.min[t],e.max[t],!0,!1))}))},buildGraph:function(t){var s=this;if(this.types[t]){var e=this.types[t];s.draw(e),setTimeout((function(){s.buildGraph(t+1)}),0)}else this.next&&this.searchNext()},highlight:function(t,s){var e,n;if(!this.graphs[s])return!1;if(e=this.graphs[s].pointer.normalize(t),n=this.graphs[s].series[0].searchPoint(e,!0))for(var i in this.types){var a,r=this.types[i];(a=this.graphs[r])&&void 0!==a&&(a.xAxis[0].removePlotLine("highlight"),a.xAxis[0].addPlotLine({color:"#999999",value:n.x,width:1,id:"highlight"}))}},addSpinner:function(t){var s=document.createElement("div");s.setAttribute("class","my-spinner");var e=document.createElement("span");e.setAttribute("class","fa fa-spinner fa-spin fa-2x fa-fw"),s.appendChild(e),this.$el.querySelector("#graph_"+t).appendChild(s)},draw:function(t){var s=Math.floor(this.min[t]),e=Math.ceil(this.max[t]),i=(this.colors[t],this.title[t]),r=this.results[t],o=this.plotlines,l=this;this.graphs[t]=n.chart("graph_"+t,{chart:{zoomType:"x"},title:"Test",width:"680px",height:l.height+"px",credits:{enabled:!1},legend:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:!0,formatter:function(t){var s=this;if(!this.point)return!1;var e=[];for(var n in l.types){var i=l.types[n],r=l.graphs[i];if(r&&void 0!==r){var o=r.series[0].points.find((function(t){return t.x===s.point.x}));if(void 0!==o){l.pointDate[i]=o.open;var h=Math.round(100*(o.high-o.open))/100;e.push('<div><span style="color:'+o.color+';">&#9632;</span> '+i.toUpperCase()+": "+o.open+" &pm; "+h+"</div>")}n!==i&&r.tooltip.hide()}}return l.pointDate.date=a.a.unix(this.point.x/1e3).format("ll"),"<b>"+a.a.unix(this.point.x/1e3).format("ll")+"</b><br />"+e.join("<br />")},shared:!1},plotOptions:{},xAxis:{type:"datetime",lineColor:"#666",events:{afterSetExtremes:function(s){var e=s.min,n=s.max;for(var i in l.graphs)i!==t&&l.graphs[i]&&l.graphs[i].xAxis[0].setExtremes(e,n,!0,!1)}},gridLineWidth:0,plotLines:o},yAxis:{title:{text:i},min:s,max:e,plotLines:[{value:0,color:"lightgrey",width:2}]},series:[{name:t,color:"darkblue",id:t,type:"ohlc",zIndex:10,data:r,lineWidth:1},{type:"linearRegression",linkedTo:t,color:"darkred",enableMouseTracking:!1,zIndex:11,params:{period:30},lineWidth:1}]})}}},k=(e(174),e(11)),E=Object(k.a)(b,(function(){var t=this,s=t._self._c;return s("div",[s("div",{style:{height:t.height+"px"},attrs:{id:"graph_E"},on:{mousemove:function(s){return t.highlight(s,"E")}}},[t._m(0)]),t._v(" "),s("div",{style:{height:t.height+"px"},attrs:{id:"graph_N"},on:{mousemove:function(s){return t.highlight(s,"N")}}},[t._m(1)]),t._v(" "),s("div",{style:{height:t.height+"px"},attrs:{id:"graph_U"},on:{mousemove:function(s){return t.highlight(s,"U")}}},[t._m(2)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"my-spinner"},[t("span",{staticClass:"fa fa-spinner fa-spin fa-2x fa-fw"})])},function(){var t=this._self._c;return t("div",{staticClass:"my-spinner"},[t("span",{staticClass:"fa fa-spinner fa-spin fa-2x fa-fw"})])},function(){var t=this._self._c;return t("div",{staticClass:"my-spinner"},[t("span",{staticClass:"fa fa-spinner fa-spin fa-2x fa-fw"})])}],!1,null,null,null);s.default=E.exports}}]);
//# sourceMappingURL=4.spot-gins-vjs.js.map