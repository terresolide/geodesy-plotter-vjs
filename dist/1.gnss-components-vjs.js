(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{191:function(t,i,n){var e=n(196);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals),(0,n(2).default)("405c9148",e,!0,{})},192:function(t,i,n){var e=n(198);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals),(0,n(2).default)("6e02c668",e,!0,{})},193:function(t,i,n){"use strict";n.r(i),i.default="data:image/png;base64,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"},194:function(t,i,n){"use strict";n.r(i),i.default="data:image/png;base64,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"},195:function(t,i,n){"use strict";n(191)},196:function(t,i,n){(i=n(1)(!1)).push([t.i,'\ndiv.box-station {\n  display: inline-block;\noverflow: hidden;\npadding: 5px 20px 20px 20px;\nmargin:20px;\n border: 1px solid grey;\n border-radius: 10px;\n-webkit-box-shadow: 0 0 3px rgba(0,0,0,.5);\nbox-shadow: 0 0 3px rgba(0,0,0,.5);\n}\ndiv.box-station h3 {\n  margin-top: 10px;\n}\ndiv.box-station a.station-link {\n  margin: 5px;\n  line-height: 1.1;\n  text-decoration: none;\n  color: #000;\n  cursor:pointer;\n}\ndiv[id="stationMap"] {\n  position: relative;\n  width:300px;\n  height:200px;\n  z-index:0;\n  float:left;\n}\n',""]),t.exports=i},197:function(t,i,n){"use strict";n(192)},198:function(t,i,n){var e=n(1),a=n(9),o=n(199);i=e(!1);var s=a(o);i.push([t.i,"\ndiv.page-station[data-v-aefa2fda] {\n  width:100%;\n  background: url("+s+") no-repeat center center fixed;\n   -webkit-background-size: cover;\n-moz-background-size: cover;\n-o-background-size: cover;\nbackground-size: cover;\n}\ndiv.page-station > div[data-v-aefa2fda] {\n  background:white;\n  box-shadow: 0 0 3px rgba(0,0,0,.5);\n}\ndiv.gnss-neighbour[data-v-aefa2fda] {\n  margin:3px 20px 3px 0;\n  display:inline-block;\n  width:200px;\n}\ndiv.file-selected[data-v-aefa2fda] {\n   position:absolute;background:white;top:0;\n   border:1px solid lightgrey;\n   border-radius:10px;\n   padding:10px;\n   min-width:800px;\n   min-height:800px;\n   width:fit-content;\n   height:fit-content;\n   z-index: 1;\n   box-shadow: 0 0 3px rgba(0,0,0,.5);\n}\ndiv.file-container[data-v-aefa2fda] {\n  position:relative;\n  margin:5px;\n  padding:10px;\n  border: 1px solid grey;\n  border-radius:10px;\n  max-width:550px;\n  min-width:500px;\n  vertical-align:top;\n  display:inline-block;\n  cursor:pointer;\n}\ndiv.file-container div.product-link[data-v-aefa2fda] {\n  position: absolute;\n  right:10px;\n  top:5px;\n}\nlabel[data-v-aefa2fda]{\n  display: inline-block;\n  min-width:130px;\n  text-transform: capitalize;\n}\ndiv.station-header[data-v-aefa2fda] {\n  position:relative;\n  background: lightgrey;\n  margin: 0;\n  padding: 3px 5px;\n}\ndiv.station-body[data-v-aefa2fda] {\n  padding: 3px 10px;\n}\ndiv.station-header h2[data-v-aefa2fda] {\n  padding:0;\n  margin:5px;\n}\nspan.station-link[data-v-aefa2fda] {\n  color: darkblue;\n  padding: 2px 3px;\n  cursor: pointer;\n  line-height:1.5rem;\n  border:1px dotted white;\n}\nspan.station-link[data-v-aefa2fda]:hover {\n  border-color: grey;\n}\nspan.in-title[data-v-aefa2fda] {\n  font-size: 1rem;\n}\nspan.fa-close[data-v-aefa2fda] {\n  position: absolute;\n  right: 15px;\n}\n\n",""]),t.exports=i},199:function(t,i,n){"use strict";n.r(i),i.default=n.p+"assets/img/background-gnss.37a3090.png"},200:function(t,i,n){"use strict";n.r(i);var e=n(6),a={getDistanceFromLatLonInKm:function(t,i,n,e){var a=this.deg2rad(n-t),o=this.deg2rad(e-i),s=Math.sin(a/2)*Math.sin(a/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(n))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},deg2rad:function(t){return t*(Math.PI/180)}},o=n(0),s=n.n(o),r=n(153),l=n(6);delete e.Icon.Default.prototype._getIconUrl,e.Icon.Default.mergeOptions({iconRetinaUrl:n(157).default,iconUrl:n(8).default,shadowUrl:n(156).default});var d={name:"Station",components:{FileForm:r.a},data:function(){return{sari:"https://alvarosg.shinyapps.io/sari/",plot:{div:null,script:null},script:null,stationId:null,stationName:null,station:null,stations:null,icon:null,stationLayer:null,neighboursLayer:null,radiusChanged:!0,resizeListener:null,radius:100,searchRadius:100,files:[],selected:null,onMap:!1,map:null,location:null,neighbours:[],show:{filter:!1,nearest:!1}}},computed:{api:function(){return this.$store.getters.api}},watch:{$route:function(t){this.initStation(),this.stationName=t.params.name,t.params.id&&(this.stationId=t.params.id),this.getStation()}},created:function(){console.log(window.location),this.$route.params.name&&(this.stationName=this.$route.params.name,this.$route.params.id?this.stationId=this.$route.params.id:this.stationId=null,this.resizeListener=this.resize.bind(this),window.addEventListener("resize",this.resizeListener),this.getStation())},destroyed:function(){this.script&&this.script.remove(),window.removeEventListener("resize",this.resizeListener)},methods:{resize:function(t){return console.log(t),t.stopImmediatePropagation(),t.preventDefault(),!1},initStation:function(){this.station=null,this.stations=null,this.stationId=null,this.location=null,this.neighbours=[],this.files=[],this.map=null},addNeighboursToMap:function(){this.neighboursLayer&&(this.neighboursLayer.addTo(this.map),this.onMap=!0,this.stationLayer.bringToFront())},date2str:function(t,i){return t?s()(t).format("ll"):""},initNeighboursLayer:function(){this.neighboursLayer?(this.neighboursLayer.clearLayers(),this.neighboursLayer.remove()):this.neighboursLayer=l.featureGroup()},removeNeighboursFromMap:function(){this.neighboursLayer&&(this.neighboursLayer.remove(),this.onMap=!1)},getNeighbours:function(){var t=this;if(this.location){var i=this.location.geometry.coordinates;this.$http.get(this.api+"stations/?center="+i.join(",")+"&radius="+this.radius).then((function(i){if(i.body.stations&&i.body.stations.length>0){t.initNeighboursLayer(),t.searchRadius=t.radius;var n=i.body.stations,e=t.location.geometry.coordinates;(n=n.filter((function(i){return i.id!==t.stationId}))).forEach((function(t,i){var o=t.location.geometry.coordinates,s=a.getDistanceFromLatLonInKm(o[1],o[0],e[1],e[0]);console.log(s),n[i].distance=s})),t.neighbours=n;var o=t;t.neighbours.forEach((function(t){var i=l.geoJSON(t.location,{pointToLayer:function(i,n){return l.marker(n,{title:t.name})}});o.neighboursLayer.addLayer(i)})),t.onMap&&t.addNeighboursToMap()}}))}},getSerie:function(t){var i=this;this.selected=t,this.script&&(this.script.remove(),this.script=null),this.$http.get(this.api+"files/"+t.name+"/component").then((function(t){i.plot.div=t.body.div,i.plot.script=t.body.script,i.script=document.createElement("script"),i.script.append(i.plot.script),i.$el.appendChild(i.script)}))},unselect:function(){this.selected=null},getStation:function(){var t=this;this.initNeighboursLayer();var i=this.api+"stations/"+this.stationName;this.stationId&&(i+="/"+this.stationId),this.$http.get(i).then((function(i){i.body.id?i.body.name===t.stationName?(t.station=i.body,t.stationId=t.station.id,t.location=t.station.location,t.getFiles(),t.$nextTick((function(){return t.initMap()}))):t.setNoStation():i.body.stations&&i.body.stations.length>0?(t.stations=i.body.stations,t.$nextTick((function(){return t.initMap()}))):t.setNoStation()}))},getFiles:function(){var t=this;this.files=[],this.$http.get(this.api+"stations/"+this.stationId+"/files",{params:this.$route.query}).then((function(i){t.files=i.body.files,console.log(t.files)}))},goToStation:function(t){this.$router.push({name:"station",params:{name:t.name,id:t.id}})},setNoStation:function(){this.stationLayer&&this.stationLayer.remove(),this.stationName=null,this.stationId=null},initMap:function(t){if(!this.map){this.map=l.map("stationMap",{scrollWheelZoom:!0});var i={name:"ArcGIS World Topo Map",url:"https://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",attribution:'Tiles © <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>'};l.tileLayer(i.url,{attribution:i.attribution}).addTo(this.map)}this.stationLayer&&this.stationLayer.remove(),this.icon||(this.icon=new l.Icon({iconUrl:n(193).default,shadowUrl:n(156).default,iconRetinaUrl:n(194).default,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}));var e=this;if(this.location)this.stationLayer=l.geoJSON(this.location,{pointToLayer:function(t,i){return l.marker(i,{title:e.station.name,icon:e.icon})}}).addTo(this.map),this.map.setView([this.location.geometry.coordinates[1],this.location.geometry.coordinates[0]],6),this.getNeighbours();else if(this.stations){this.stationLayer=l.featureGroup().addTo(this.map),e=this,this.stations.forEach((function(t){var i=t.location.geometry.coordinates,n=l.marker([i[1],i[0]],{icon:e.icon,title:"Station N°"+t.id});e.stationLayer.addLayer(n)}));var a=this.stationLayer.getBounds();this.map.fitBounds(a)}},close:function(t){console.log(t),this.$router.push({name:"home",query:this.$store.state.query})}}},c=(n(195),n(197),n(3)),p=Object(c.a)(d,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"page-station",staticStyle:{width:"100%"}},[i("div",{staticStyle:{margin:"auto","max-width":"1400px","padding-bottom":"20px"}},[i("div",{staticClass:"station-header"},[i("span",{staticClass:"fa fa-close button",staticStyle:{"margin-right":"20px"},on:{click:function(i){return t.close(i)}}}),t._v(" "),t.stationId?i("h2",[t._v("Station "+t._s(t.stationName))]):t.stations?i("h2",[t._v(t._s(t.stations.length)+" stations with the identifier "+t._s(t.stationName))]):i("h2",[t._v("UNKNOWN STATION")])]),t._v(" "),i("div",{staticClass:"station-body"},[t.location||t.stations?i("div",[!t.station&&t.stations?i("div",{staticStyle:{float:"left"}},t._l(t.stations,(function(n){return i("div",{staticClass:"box-station"},[i("router-link",{staticClass:"station-link",attrs:{to:{name:"station",params:{name:n.name,id:n.id}}}},[i("h3",[t._v(t._s(n.name)+" N°"+t._s(n.id))]),t._v(" "),i("div",[t._v("Latitude: "+t._s(n.location.geometry.coordinates[1].toLocaleString())+"°")]),t._v(" "),i("div",[t._v("Longitude: "+t._s(n.location.geometry.coordinates[0].toLocaleString())+"°")])])],1)})),0):t._e(),t._v(" "),t.location?i("div",[i("h3",{staticStyle:{"margin-bottom":"0"}},[t._v("Coordinates")]),t._v(" "),i("div",{staticStyle:{float:"left","min-width":"300px",width:"40%","margin-left":"10px","margin-top":"18px","margin-right":"50px"}},[i("div",[i("label",[t._v("Latitude:")]),t._v(" "+t._s(t.location.geometry.coordinates[1].toLocaleString())+"°")]),t._v(" "),i("div",[i("label",[t._v("Longitude:")]),t._v(" "+t._s(t.location.geometry.coordinates[0].toLocaleString())+"°")]),t._v(" "),t.station.properties.height?i("div",[i("label",[t._v("Height:")]),t._v(t._s(t.station.properties.height.toLocaleString())+" m")]):t._e(),t._v(" "),i("h3",{staticStyle:{"margin-left":"-10px"}},[t._v("Informations")]),t._v(" "),t.station.properties.m3g?i("div",[i("label",[t._v("M3g:")]),t._v(" "),i("a",{attrs:{href:t.station.properties.m3g,target:"_blank"}},[t._v("sitelog")])]):t._e(),t._v(" "),i("div",[i("label",[t._v("Domes:")]),t._v(" "+t._s(t.station.properties.domes))]),t._v(" "),t.stationId?i("h3",{staticStyle:{"margin-left":"-10px"}},[t._v("Nearest stations\n            "),i("span",{staticClass:"fa button in-title",on:{click:function(i){t.show.nearest=!t.show.nearest}}},[t._v(t._s(t.show.nearest?"-":"+"))])]):t._e(),t._v(" "),i("div",{staticStyle:{"margin-left":"10px"},style:{display:t.show.nearest?"block":"none"}},[i("div",{staticStyle:{"margin-bottom":"10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.radius,expression:"radius"}],staticClass:"gnss-control",attrs:{type:"number",step:"10"},domProps:{value:t.radius},on:{change:function(i){t.radiusChanged=!0},input:function(i){i.target.composing||(t.radius=i.target.value)}}}),t._v(" km  \n\t           "),i("button",{staticStyle:{"margin-right":"20px"},attrs:{type:"button"},on:{click:function(i){return t.getNeighbours()}}},[t._v("Search")]),t._v(" "),t.onMap?i("button",{attrs:{type:"button",value:"Remove"},on:{click:t.removeNeighboursFromMap}},[t._v("Hide "),i("i",{staticClass:"fa fa-map-marker"})]):i("button",{attrs:{type:"button",title:"Show on map"},on:{click:t.addNeighboursToMap}},[t._v("Display "),i("i",{staticClass:"fa fa-map-marker"})])]),t._v(" "),t.neighbours.length>0?i("div",t._l(t.neighbours,(function(n){return i("div",{staticClass:"gnss-neighbour"},[i("span",{staticClass:"station-link",on:{click:function(i){return t.goToStation(n)}}},[t._v(t._s(n.name))]),t._v("\n\t\t          ("+t._s(Math.round(n.distance))+" km)\n\t\t        ")])})),0):i("div",[i("em",[t._v("No other stations within "+t._s(t.searchRadius)+"km radius")])])])])]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.station||t.stations,expression:"station || stations"}],attrs:{id:"stationMap"}})]):t._e(),t._v(" "),i("div",{staticStyle:{clear:"left"}}),t._v(" "),t.stationId?i("h3",[t._v("Filters \n      "),i("span",{staticClass:"fa button in-title",on:{click:function(i){t.show.filter=!t.show.filter}}},[t._v(t._s(t.show.filter?"-":"+"))])]):t._e(),t._v(" "),i("div",{staticStyle:{"margin-left":"10px","max-width":"950px","font-size":"0.9rem"},style:{display:t.show.filter?"block":"none"}},[i("file-form",{attrs:{mode:"station"}})],1),t._v(" "),t.files.length>0?i("div",{staticStyle:{"padding-top":"10px",position:"relative"}},[t.selected?i("div",{staticClass:"file-selected"},[i("span",{staticClass:"fa fa-close",on:{click:t.unselect}}),t._v(" "),i("h3",[t._v(" "+t._s(t.selected.station)+" "+t._s(t.selected.solution)+" "+t._s(t.selected.productType))]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.plot.div)}},[t._v("STATION INCONNUE")])]):t._e(),t._v(" "),i("h3",[t._v("Data")]),t._v(" "),i("div",{staticStyle:{"margin-left":"10px"}},t._l(t.files,(function(n){return i("div",{staticClass:"file-container"},[i("div",{},[i("div",{staticClass:"product-link"},["SPOTGINS"===n.solution&&"POSITION"===n.productType?i("a",{attrs:{href:t.sari+"?server=formater&station="+n.station+"&product=spotgins_pos",target:"_blank"}},[t._v("SARI")]):t._e(),t._v(" "),i("a",{attrs:{href:t.api+"files/"+n.name+"/download",download:n.name}},[i("span",{staticClass:"fa fa-download"})])]),t._v(" "),i("div",[i("label",[t._v("Name")]),t._v(t._s(n.name))]),t._v(" "),i("div",{staticStyle:{"font-size":"0.8rem"}},[i("div",[i("label",[t._v("ProductType")]),t._v(t._s(n.productType))]),t._v(" "),i("div",[i("label",[t._v("Phenomenon Time")]),t._v(t._s(t.date2str(n.tempStart))+" → "+t._s(t.date2str(n.tempEnd)))]),t._v(" "),i("div",[i("label",[t._v("Updated")]),t._v(t._s(t.date2str(n.creationDate)))]),t._v(" "),t._l(n.properties,(function(n,e){return"img"!==e&&"file"!==e&&"fillRate"!==e?i("div",[i("label",[t._v(t._s(e))]),t._v(" "+t._s(n)+"\n\t\t        ")]):t._e()}))],2),t._v(" "),i("div",[i("img",{staticStyle:{"max-width":"500px"},attrs:{src:n.properties.img},on:{click:function(i){return t.getSerie(n)}}})])])])})),0)]):t._e(),t._v(" "),t.station||t.stations?t._e():i("div",[t._v("\n      No station found with this code\n   ")])])])])}),[],!1,null,"aefa2fda",null);i.default=p.exports}}]);
//# sourceMappingURL=1.gnss-components-vjs.js.map